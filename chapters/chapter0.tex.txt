% chapter1.tex
\chapter{Giới thiệu}
\label{ch:intro}

\section{Mục đích}
Sách này nhằm cung cấp kiến thức toán học chuyên sâu.

% --- USING THE FINAL, CORRECT, AND SIMPLE SYNTAX ---
\begin{lythuyetbox}{Các khái niệm cơ bản về Số học}

\begin{dinhnghia}{Số nguyên tố}{dn:so-nguyen-to}
Một số nguyên lớn hơn 1 chỉ có hai ước là 1 và chính nó được gọi là số nguyên tố.
\end{dinhnghia}

Dựa trên Định nghĩa \ref{dn:so-nguyen-to}, ta có định lý quan trọng sau đây.

\begin{dinhly}{Định lý cơ bản của số học}{dl:co-ban-so-hoc}
Mọi số nguyên lớn hơn 1 đều có thể được biểu diễn duy nhất (không kể thứ tự các thừa số) dưới dạng tích của các số nguyên tố.
\end{dinhly}

Từ Định lý \ref{dl:co-ban-so-hoc}, ta có một hệ quả trực tiếp.

\begin{hequa}{}{hq:vo-han-snt}
Có vô số các số nguyên tố.
\end{hequa}

\begin{chuy}{Lưu ý về chứng minh}{cy:chung-minh}
Chứng minh cho Hệ quả \ref{hq:vo-han-snt} sẽ được trình bày sau.
\end{chuy}

\end{lythuyetbox}

\section{Bài tập chương}

Đây là cách sử dụng môi trường bài tập và lời giải mới.

% --- HOW TO USE THE NEW SYSTEM ---
% The optional title is now in square brackets []. The label is in curly braces {}.
\begin{cauhoi}[Phân tích ra thừa số nguyên tố]{bt:phan-tich-1}
Hãy phân tích số 360 ra thừa số nguyên tố.
\end{cauhoi}

% The solution environment is now simpler than ever.
\begin{loigiai}
Ta có:
\[ 360 = 36 \times 10 = (6 \times 6) \times (2 \times 5) = (2 \times 3) \times (2 \times 3) \times (2 \times 5) \]
Sắp xếp lại các thừa số, ta được:
\[ 360 = 2^3 \times 3^2 \times 5^1 \]
\end{loigiai}


% This is an example of a question WITHOUT an optional title.
\begin{cauhoi}{bt:kiem-tra-snt}
Số 111 có phải là số nguyên tố không? Tại sao?
\end{cauhoi}

\begin{loigiai}
Không. Số 111 không phải là số nguyên tố.
Ta có tổng các chữ số của 111 là $1+1+1=3$. Vì tổng các chữ số chia hết cho 3, nên 111 chia hết cho 3.
Thật vậy, $111 = 3 \times 37$.
\end{loigiai}

\section{Bảng Biến Thiên với tkz-tab}
\label{sec:bbt}

Gói `tkz-tab` cung cấp một môi trường mạnh mẽ và cú pháp rõ ràng để vẽ bảng biến thiên một cách chuyên nghiệp.

\begin{vidu}{Bảng biến thiên cho hàm bậc ba}{vd:bbt-bac3}
Xét hàm số $y = x^3 - 3x + 1$. Ta có $y' = 3x^2 - 3$. $y' = 0 \iff x = -1$ hoặc $x = 1$.
Ta có bảng biến thiên như sau:

% --- Cú pháp tkz-tab ---
\begin{center} % Canh giữa bảng
\begin{tikzpicture}
    % \tkzTabInit{<cột 1> / <chiều cao>, <cột 2> / <chiều cao>, ...}
    % {<danh sách các giá trị trên dòng x>}
    \tkzTabInit
        {$x$ / 1, $y'$ / 1, $y$ / 2} % Dòng 1: x, Dòng 2: y', Dòng 3: y (chiều cao gấp đôi)
        {$-\infty$, $-1$, $1$, $+\infty$} % Các mốc giá trị trên trục x

    % \tkzTabLine{(các giá trị, dấu, số 0,...)}
    % Dùng để vẽ dòng dấu của y'. Các dấu phẩy ngăn cách các ô.
    \tkzTabLine{, +, 0, -, 0, +}

    % \tkzTabVar{<dòng biến thiên>}
    % Dùng / để ngăn cách hướng mũi tên và giá trị tại điểm đó.
    % +/ : mũi tên đi lên (tăng)
    % -/ : mũi tên đi xuống (giảm)
    % D/ : double bar (không xác định)
    \tkzTabVar{-/ $-\infty$, +/ $3$, -/ $-1$, +/ $+\infty$}
\end{tikzpicture}
\end{center}
\end{vidu}


\begin{vidu}{Bảng biến thiên phức tạp hơn}{vd:bbt-complex}
Gói `tkz-tab` cho phép thêm nhiều dòng không giới hạn, phù hợp để xét dấu các biểu thức phức tạp hoặc khảo sát hàm hợp. Ví dụ, xét dấu $f'(x)$ dựa trên hai nhân tử $x-1$ và $x+2$.

\begin{center}
\begin{tikzpicture}
    \tkzTabInit
        {$x$ / 1, $x-1$ / 1, $x+2$ / 1, $f'(x)$ / 1, $f(x)$ / 2} % 5 dòng khác nhau!
        {$-\infty$, $-2$, $1$, $+\infty$}

    % Điền các dòng xét dấu tương ứng
    \tkzTabLine{, -, , -, 0, +}       % Dòng dấu của x-1
    \tkzTabLine{, -, 0, +, , +}       % Dòng dấu của x+2
    
    % Dòng kết luận dấu cho f'(x)
    % z = zero, d = double bar (không xác định)
    \tkzTabLine{, +, z, -, z, +}

    % Dòng biến thiên của f(x)
    \tkzTabVar{-/ $-\infty$, +/ $f(-2)$, -/ $f(1)$, +/ $+\infty$}
\end{tikzpicture}
\end{center}
\end{vidu}